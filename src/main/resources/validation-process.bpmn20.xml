<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:flowable="http://flowable.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.flowable.org/processdef">
  <process id="validationProcess" name="validation-process" isExecutable="true">
    <startEvent id="startEvent" name="Start"/>
    <userTask id="verificationTask" name="Verification Task" flowable:candidateGroups="${verifyGroups}"/>
    <sequenceFlow id="seqStartToVerificationTask" sourceRef="startEvent" targetRef="verificationTask"/>
    <exclusiveGateway id="verifyDecision"/>
    <sequenceFlow id="seqVerificationTaskDecision" sourceRef="verificationTask" targetRef="verifyDecision"/>
    <userTask id="validationTask" name="Validation Task" flowable:candidateGroups="${validateGroups}"/>
    <sequenceFlow id="seqVerificationDecisionValidationTask" sourceRef="verifyDecision" targetRef="validationTask" name="OK">
      <conditionExpression xsi:type="tFormalExpression">
        <![CDATA[
          ${verificationStatus == 'OK'}
        ]]>
      </conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="seqVerificationDecisionEnd" sourceRef="verifyDecision" targetRef="endEvent" name="NOK">
      <conditionExpression xsi:type="tFormalExpression">
        <![CDATA[
          ${verificationStatus == 'NOK'}
        ]]>
      </conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="validationDecision"/>
    <sequenceFlow id="seqValidationTaskDecision" sourceRef="validationTask" targetRef="validationDecision"/>
    <sequenceFlow id="seqValidationDecisionSucceed" sourceRef="validationDecision" targetRef="validationSucceedServiceTask" name="OK">
      <conditionExpression xsi:type="tFormalExpression">
        <![CDATA[
          ${validationStatus == 'OK'}
        ]]>
      </conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="seqValidationDecisionReturn" sourceRef="validationDecision" targetRef="endEvent" name="NOK">
      <conditionExpression xsi:type="tFormalExpression">
        <![CDATA[
          ${validationStatus == 'NOK'}
        ]]>
      </conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="seqValidationDecisionEnd" sourceRef="validationDecision" targetRef="verificationTask" name="POK">
      <conditionExpression xsi:type="tFormalExpression">
        <![CDATA[
          ${validationStatus == 'POK'}
        ]]>
      </conditionExpression>
    </sequenceFlow>
    <serviceTask id="validationSucceedServiceTask" flowable:class="org.phuongnq.flowablelibrary.ValidationSucceedServiceTask" name="Validation Succeed Service Task"/>
    <sequenceFlow id="seqValidationSucceedServiceTaskEnd" sourceRef="validationSucceedServiceTask" targetRef="endEvent"/>
    <endEvent id="endEvent" name="End"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_validationProcess">
    <bpmndi:BPMNPlane bpmnElement="validationProcess" id="BPMNPlane_validationProcess">
      <bpmndi:BPMNShape id="shape-a80b4811-7b27-4187-877b-689f0ae4fd3c" bpmnElement="startEvent">
        <omgdc:Bounds x="-195.0" y="-55.000004" width="30.0" height="30.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape-332b23ce-3467-420a-9b6b-e2caca4f934d" bpmnElement="verificationTask">
        <omgdc:Bounds x="-140.0" y="-67.50001" width="55.0" height="55.000004"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-8f00f796-317b-4e03-b6b7-9e7bfd75a240" bpmnElement="seqStartToVerificationTask">
        <omgdi:waypoint x="-165.0" y="-40.000004"/>
        <omgdi:waypoint x="-140.0" y="-40.000008"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-1a1000ed-b801-4726-93f7-f490e1f5b04d" bpmnElement="verifyDecision">
        <omgdc:Bounds x="-60.0" y="-60.0" width="40.0" height="40.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-bd2b0190-5bd7-438d-86de-50a190c8d084" bpmnElement="seqVerificationTaskDecision">
        <omgdi:waypoint x="-85.0" y="-40.000008"/>
        <omgdi:waypoint x="-60.0" y="-40.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-b81d6e27-689e-4ab1-90f0-8a3d7f52dc9f" bpmnElement="validationTask">
        <omgdc:Bounds x="7.5" y="-64.999985" width="60.0" height="50.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-d30f8bff-f99a-4b12-bc5d-8537a3a3b186" bpmnElement="seqVerificationDecisionValidationTask">
        <omgdi:waypoint x="-20.0" y="-40.0"/>
        <omgdi:waypoint x="7.5" y="-39.999985"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-ff122402-0ca7-4b8c-b882-781684ed1527" bpmnElement="endEvent">
        <omgdc:Bounds x="265.0" y="-55.000004" width="30.0" height="30.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-71c192cf-08ee-4ebf-a00c-2d72a4e4e1d2" bpmnElement="seqVerificationDecisionEnd">
        <omgdi:waypoint x="-40.0" y="-20.0"/>
        <omgdi:waypoint x="-39.999996" y="22.499998"/>
        <omgdi:waypoint x="50.0" y="22.5"/>
        <omgdi:waypoint x="280.0" y="22.500002"/>
        <omgdi:waypoint x="280.0" y="-25.000004"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-f90fbc11-a9ed-4899-894a-de7bfeff0a1f" bpmnElement="sid-5eb9ee99-8288-4396-af0b-636e63606a02">
        <omgdc:Bounds x="-180.0" y="40.0" width="40.0" height="40.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-4b4eeeba-4604-4726-a2f3-344435594489" bpmnElement="sid-21f74cfd-aa18-451f-8524-cc85a724788c">
        <omgdi:waypoint x="-127.5" y="17.5"/>
        <omgdi:waypoint x="-160.0" y="40.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-a1562291-ec97-447e-bd50-f74429c8747a" bpmnElement="validationDecision">
        <omgdc:Bounds x="90.0" y="-59.999996" width="40.0" height="40.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape-0952fa44-f3fa-427f-a0f2-a34fc1b802a8" bpmnElement="validationSucceedServiceTask">
        <omgdc:Bounds x="160.0" y="-67.50001" width="70.0" height="55.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-40bc2a92-e933-4e0c-a659-fde0bbed8e51" bpmnElement="seqValidationDecisionSucceed">
        <omgdi:waypoint x="130.0" y="-39.999996"/>
        <omgdi:waypoint x="159.99998" y="-40.000008"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-0fa6d002-99c4-435c-bf3f-051f78e08589" bpmnElement="seqValidationDecisionReturn">
        <omgdi:waypoint x="110.0" y="-19.999996"/>
        <omgdi:waypoint x="110.0" y="1.2500019"/>
        <omgdi:waypoint x="145.0" y="1.2500019"/>
        <omgdi:waypoint x="272.5" y="1.2500019"/>
        <omgdi:waypoint x="272.5" y="-25.000004"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-b9855098-fbc1-4d58-b645-9355f58beebc" bpmnElement="seqValidationDecisionEnd">
        <omgdi:waypoint x="110.0" y="-59.999996"/>
        <omgdi:waypoint x="110.00001" y="-88.75"/>
        <omgdi:waypoint x="-17.5" y="-88.75"/>
        <omgdi:waypoint x="-112.5" y="-88.75"/>
        <omgdi:waypoint x="-112.5" y="-67.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-4584fab5-dc89-4372-b429-93b8b0c41f2f" bpmnElement="seqValidationSucceedServiceTaskEnd">
        <omgdi:waypoint x="230.0" y="-40.000008"/>
        <omgdi:waypoint x="265.0" y="-40.000004"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-99b1aebd-5794-4a4f-a3c5-9de93051e07e" bpmnElement="seqValidationTaskDecision">
        <omgdi:waypoint x="67.5" y="-39.999985"/>
        <omgdi:waypoint x="90.0" y="-39.999996"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
